<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Market Dashboard</title>
  <meta name="color-scheme" content="light dark" />
  <style>
    :root{
      --bg: #0b1220;
      --panel: rgba(255,255,255,.05);
      --panelSolid: #0f1a2f;
      --card: rgba(255,255,255,.06);
      --text: #e7eefc;
      --muted:#a9b7d6;
      --border: rgba(255,255,255,.12);
      --accent:#4f8cff;
      --ok:#22c55e;
      --warn:#f59e0b;
      --shadow: 0 14px 40px rgba(0,0,0,.35);
      --radius: 16px;
    }

    @media (prefers-color-scheme: light){
      :root{
        --bg:#f4f7ff;
        --panel: rgba(2,6,23,.04);
        --panelSolid:#ffffff;
        --card:#ffffff;
        --text:#0b1220;
        --muted:#4b5563;
        --border: rgba(15,23,42,.12);
        --accent:#2563eb;
        --ok:#16a34a;
        --warn:#d97706;
        --shadow: 0 14px 40px rgba(2,6,23,.12);
      }
    }

    *{ box-sizing:border-box; }
    html, body { height:100%; }
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      color:var(--text);
      background:
        radial-gradient(1100px 600px at 12% -10%, rgba(79,140,255,.22), transparent 60%),
        radial-gradient(900px 500px at 110% 10%, rgba(34,197,94,.14), transparent 55%),
        var(--bg);
    }

    .container{
      min-height:100%;
      max-width: 1240px;
      margin: 0 auto;
      padding: 16px;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    .topbar{
      border: 1px solid var(--border);
      border-radius: var(--radius);
      background: linear-gradient(180deg, rgba(255,255,255,.08), rgba(255,255,255,0));
      box-shadow: var(--shadow);
      padding: 14px;
      backdrop-filter: blur(10px);
    }

    .topRow{
      display:flex;
      align-items:flex-start;
      justify-content:space-between;
      gap: 12px;
      flex-wrap: wrap;
    }

    .brand{
      display:flex;
      flex-direction:column;
      gap: 6px;
      min-width: 240px;
    }

    .brand h1{
      margin:0;
      font-size: 15px;
      letter-spacing: .25px;
      font-weight: 800;
      display:flex;
      align-items:center;
      gap: 10px;
    }

    .pill{
      font-size: 11px;
      font-weight: 800;
      padding: 4px 10px;
      border-radius: 999px;
      border: 1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--muted);
    }

    .subtitle{
      margin:0;
      font-size: 12px;
      line-height: 1.4;
      color: var(--muted);
      max-width: 72ch;
    }

    .controls{
      display:flex;
      gap: 8px;
      align-items:center;
      flex-wrap: wrap;
      justify-content:flex-end;
    }

    .btn{
      appearance:none;
      border:1px solid var(--border);
      background: rgba(255,255,255,.06);
      color: var(--text);
      border-radius: 12px;
      padding: 9px 11px;
      font-size: 12px;
      font-weight: 750;
      cursor: pointer;
      text-decoration:none;
      display:inline-flex;
      align-items:center;
      gap: 8px;
      transition: transform .06s ease, background .12s ease, border-color .12s ease;
      user-select:none;
      -webkit-tap-highlight-color: transparent;
    }
    .btn:hover{ background: rgba(255,255,255,.10); }
    .btn:active{ transform: translateY(1px); }
    .btn.primary{
      border-color: rgba(79,140,255,.55);
      background: rgba(79,140,255,.18);
    }
    .btn.ok{
      border-color: rgba(34,197,94,.45);
      background: rgba(34,197,94,.14);
    }

    .tabs{
      margin-top: 12px;
      display:flex;
      gap:8px;
      flex-wrap:wrap;
    }
    .tab{
      border:1px solid var(--border);
      background: rgba(255,255,255,.05);
      padding: 10px 12px;
      border-radius: 999px;
      font-size: 12px;
      font-weight: 800;
      color: var(--text);
      cursor:pointer;
      transition: background .12s ease, border-color .12s ease;
    }
    .tab[aria-selected="true"]{
      border-color: rgba(79,140,255,.7);
      background: rgba(79,140,255,.22);
    }

    .main{
      flex:1;
      display:flex;
      flex-direction:column;
      gap: 12px;
    }

    .panel{
      flex:1;
      border:1px solid var(--border);
      border-radius: var(--radius);
      overflow:hidden;
      box-shadow: var(--shadow);
      background: var(--panelSolid);
      display:flex;
      flex-direction:column;
      min-height: 72vh;
    }

    .panelHeader{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:10px;
      padding: 10px 12px;
      border-bottom:1px solid var(--border);
      background: linear-gradient(180deg, rgba(255,255,255,.07), rgba(255,255,255,0));
    }

    .panelHeader .left{
      display:flex;
      align-items:center;
      gap:10px;
      min-width: 200px;
    }

    .dot{
      width: 10px;
      height: 10px;
      border-radius: 999px;
      background: var(--accent);
      box-shadow: 0 0 0 3px rgba(79,140,255,.18);
    }

    .panelHeader .label{
      font-size: 12px;
      font-weight: 900;
      letter-spacing:.2px;
    }

    .panelHeader .right{
      display:flex;
      gap:8px;
      flex-wrap:wrap;
      justify-content:flex-end;
      align-items:center;
    }

    iframe{
      width:100%;
      height:100%;
      border:0;
      flex:1;
      background: transparent;
    }

    .hint{
      padding: 10px 12px;
      font-size: 12px;
      color: var(--muted);
      border-top: 1px solid var(--border);
      background: rgba(255,255,255,.03);
      display:flex;
      align-items:flex-start;
      gap: 10px;
    }

    .hint strong{ color: var(--text); }
    .hidden{ display:none !important; }

    /* Split view */
    @media (min-width: 980px){
      .splitRow{
        display:grid;
        grid-template-columns: 1fr 1fr;
        gap: 12px;
      }
      .panel{ min-height: 76vh; }
    }

    /* Fullscreen polish */
    .panel:fullscreen{
      border-radius: 0;
      box-shadow: none;
    }
    .panel:-webkit-full-screen{
      border-radius: 0;
      box-shadow: none;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="topbar">
      <div class="topRow">
        <div class="brand">
          <h1>
            Scanner Dashboard
          </h1>
          <p class="subtitle">
            Tabs switch between views. Use <strong>Fullscreen</strong> to maximize the current panel. If a page won‚Äôt load,
            use <strong>Open in new tab</strong>.
          </p>
        </div>

        <div class="controls">
          <button class="btn" id="btnFullscreen" type="button" title="Fullscreen current view">‚õ∂ Fullscreen</button>
          <button class="btn" id="btnExitFullscreen" type="button" title="Exit fullscreen" style="display:none;">‚õ∂ Exit</button>
          <a class="btn primary" id="btnOpenCurrent" href="#" target="_blank" rel="noopener noreferrer">‚Üó Open current</a>
        </div>
      </div>

      <div class="tabs" role="tablist" aria-label="Views">
        <button class="tab" id="tab-tv" role="tab" aria-selected="true" aria-controls="view-tv">TradingView</button>
        <button class="tab" id="tab-link1" role="tab" aria-selected="false" aria-controls="view-link1">Link 1</button>
        <button class="tab" id="tab-split" role="tab" aria-selected="false" aria-controls="view-split">Split View</button>
      </div>
    </div>

    <main class="main">
      <!-- TradingView -->
      <section id="view-tv" class="panel" role="tabpanel" aria-labelledby="tab-tv" data-open-url="">
        <div class="panelHeader">
          <div class="left">
            <span class="dot" aria-hidden="true"></span>
            <div class="label">TradingView</div>
          </div>
          <div class="right">
            <a class="btn ok" id="tvNewTab" target="_blank" rel="noopener noreferrer">‚Üó New tab</a>
          </div>
        </div>

        <iframe id="tvFrame"
          title="TradingView"
          loading="lazy"
          allow="fullscreen; clipboard-write"
          referrerpolicy="no-referrer">
        </iframe>

        <div class="hint">
          <span>üí°</span>
          <div><strong>Tip:</strong> On mobile, rotate your phone for more chart space.</div>
        </div>
      </section>

      <!-- Link 1 -->
      <section id="view-link1" class="panel hidden" role="tabpanel" aria-labelledby="tab-link1" data-open-url="">
        <div class="panelHeader">
          <div class="left">
            <span class="dot" aria-hidden="true"></span>
            <div class="label">Sniper Pro</div>
          </div>
          <div class="right">
            <a class="btn primary" id="l1NewTab" target="_blank" rel="noopener noreferrer">‚Üó New tab</a>
          </div>
        </div>

        <iframe id="l1Frame"
          title="Link 1"
          loading="lazy"
          referrerpolicy="no-referrer">
        </iframe>

        <div class="hint">
          <span>üîí</span>
          <div><strong>If this is blank:</strong> the destination site likely blocks embedding. Use ‚ÄúNew tab‚Äù.</div>
        </div>
      </section>

      <!-- Split -->
      <section id="view-split" class="hidden" role="tabpanel" aria-labelledby="tab-split">
        <div class="splitRow">
          <div class="panel" id="splitLeft">
            <div class="panelHeader">
              <div class="left">
                <span class="dot" aria-hidden="true"></span>
                <div class="label">TradingView</div>
              </div>
              <div class="right">
                <a class="btn ok" id="tvNewTab2" target="_blank" rel="noopener noreferrer">‚Üó New tab</a>
              </div>
            </div>
            <iframe id="tvFrame2"
              title="TradingView Split"
              loading="lazy"
              allow="fullscreen; clipboard-write"
              referrerpolicy="no-referrer"></iframe>
          </div>

          <div class="panel" id="splitRight">
            <div class="panelHeader">
              <div class="left">
                <span class="dot" aria-hidden="true"></span>
                <div class="label">Link 1</div>
              </div>
              <div class="right">
                <a class="btn primary" id="l1NewTab2" target="_blank" rel="noopener noreferrer">‚Üó New tab</a>
              </div>
            </div>
            <iframe id="l1Frame2"
              title="Link 1 Split"
              loading="lazy"
              referrerpolicy="no-referrer"></iframe>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    // Your URLs
    const LINK1 = "https://tinyurl.com/58s3ufy7";
    const TV = "https://s.tradingview.com/widgetembed/?hideideas=1&overrides=%7B%22scalesProperties.scaleSeriesOnly%22%3Atrue%2C%22mainSeriesProperties.candleStyle.upColor%22%3A%22%2326a69a%22%2C%22mainSeriesProperties.candleStyle.downColor%22%3A%22%23ef5350%22%2C%22mainSeriesProperties.candleStyle.borderUpColor%22%3A%22%2326a69a%22%2C%22mainSeriesProperties.candleStyle.borderDownColor%22%3A%22%23ef5350%22%2C%22mainSeriesProperties.candleStyle.wickUpColor%22%3A%22%2326a69a%22%2C%22mainSeriesProperties.candleStyle.wickDownColor%22%3A%22%23ef5350%22%2C%22paneProperties.background%22%3A%22%23131722%22%2C%22paneProperties.vertGridProperties.color%22%3A%22%23000000%22%2C%22paneProperties.horzGridProperties.color%22%3A%22%23000000%22%2C%22scalesProperties.textColor%22%3A%22%23AAA%22%2C%22mainSeriesProperties.visible%22%3Atrue%2C%22mainSeriesProperties.showPriceLine%22%3Atrue%2C%22mainSeriesProperties.priceLineWidth%22%3A1%2C%22mainSeriesProperties.priceLineColor%22%3A%22%232962FF%22%2C%22mainSeriesProperties.lockScale%22%3Afalse%2C%22mainSeriesProperties.autoScale%22%3Atrue%2C%22mainSeriesProperties.showCountdown%22%3Atrue%7D&enabled_features=%5B%22header_screenshot%22%2C%22timezone_menu%22%2C%22use_localstorage_for_settings%22%2C%22header_undo_redo%22%5D&disabled_features=%5B%22header_fullscreen_button%22%5D&locale=en#%7B%22symbol%22%3A%22BINANCE%3ABTCUSDT%22%2C%22frameElementId%22%3A%22tradingview_efbfc%22%2C%22interval%22%3A%225%22%2C%22hide_legend%22%3A%221%22%2C%22hide_side_toolbar%22%3A%220%22%2C%22allow_symbol_change%22%3A%221%22%2C%22save_image%22%3A%221%22%2C%22backgroundColor%22%3A%22%23ffffff%22%2C%22studies%22%3A%22PUB%3Bf6e13cfa8fb1462493984f329925c02b%5Cu001fPUB%3B6ac2587549144bc9a8cd6ae15730895b%5Cu001fPUB%3Baf2dc588b5f34409a046f96b625c9b6b%5Cu001fPUB%3B06fc6d6e9252415c9afdac437e0764dc%22%2C%22theme%22%3A%22light%22%2C%22style%22%3A%221%22%2C%22timezone%22%3A%22Europe%2FLondon%22%2C%22hide_volume%22%3A%221%22%2C%22studies_overrides%22%3A%22%7B%7D%22%2C%22utm_source%22%3A%22jifulive.com%22%2C%22utm_medium%22%3A%22widget%22%2C%22utm_campaign%22%3A%22chart%22%2C%22utm_term%22%3A%22BINANCE%3ABTCUSDT%22%2C%22page-uri%22%3A%22jifulive.com%2Feducation%2Fscanners%22%7D";

    // Wire up iframes and "new tab" links
    document.getElementById("tvFrame").src = TV;
    document.getElementById("tvFrame2").src = TV;
    document.getElementById("l1Frame").src = LINK1;
    document.getElementById("l1Frame2").src = LINK1;

    const tvNewTab = [ "tvNewTab", "tvNewTab2" ];
    const l1NewTab = [ "l1NewTab", "l1NewTab2" ];
    tvNewTab.forEach(id => document.getElementById(id).href = TV);
    l1NewTab.forEach(id => document.getElementById(id).href = LINK1);

    // Tabs
    const tabs = [
      { tab: "tab-tv", panel: "view-tv" },
      { tab: "tab-link1", panel: "view-link1" },
      { tab: "tab-split", panel: "view-split" },
    ];

    function setActive(tabId){
      for (const t of tabs){
        const tabEl = document.getElementById(t.tab);
        const panelEl = document.getElementById(t.panel);
        const active = (t.tab === tabId);

        tabEl.setAttribute("aria-selected", active ? "true" : "false");
        panelEl.classList.toggle("hidden", !active);
      }
      syncOpenCurrent();
    }

    tabs.forEach(t => {
      document.getElementById(t.tab).addEventListener("click", () => setActive(t.tab));
    });

    // Determine current visible panel (for fullscreen + open current)
    function getCurrentPanel(){
      // Only one of these three views is visible at once
      const tv = document.getElementById("view-tv");
      const l1 = document.getElementById("view-link1");
      const split = document.getElementById("view-split");

      if (!tv.classList.contains("hidden")) return tv;
      if (!l1.classList.contains("hidden")) return l1;
      return split; // split view container
    }

    function getCurrentOpenUrl(){
      const tv = document.getElementById("view-tv");
      const l1 = document.getElementById("view-link1");
      const split = document.getElementById("view-split");

      if (!tv.classList.contains("hidden")) return TV;
      if (!l1.classList.contains("hidden")) return LINK1;
      // For split, open TradingView by default (you can change this)
      return TV;
    }

    // Open current button
    const btnOpenCurrent = document.getElementById("btnOpenCurrent");
    function syncOpenCurrent(){
      btnOpenCurrent.href = getCurrentOpenUrl();
    }

    // Fullscreen
    const btnFs = document.getElementById("btnFullscreen");
    const btnExit = document.getElementById("btnExitFullscreen");

    async function enterFullscreen(){
      const panel = getCurrentPanel();

      // Fullscreen API requires a user gesture; this is called from a click.
      const request =
        panel.requestFullscreen ||
        panel.webkitRequestFullscreen ||
        panel.msRequestFullscreen;

      if (!request) {
        // Fallback: open current view in new tab
        window.open(getCurrentOpenUrl(), "_blank", "noopener,noreferrer");
        return;
      }

      try {
        await request.call(panel);
      } catch (e) {
        // Some browsers block fullscreen in some contexts; fallback.
        window.open(getCurrentOpenUrl(), "_blank", "noopener,noreferrer");
      }
    }

    function exitFullscreen(){
      const exit =
        document.exitFullscreen ||
        document.webkitExitFullscreen ||
        document.msExitFullscreen;

      if (exit) exit.call(document);
    }

    btnFs.addEventListener("click", enterFullscreen);
    btnExit.addEventListener("click", exitFullscreen);

    function onFsChange(){
      const inFs = !!(document.fullscreenElement || document.webkitFullscreenElement || document.msFullscreenElement);
      btnFs.style.display = inFs ? "none" : "";
      btnExit.style.display = inFs ? "" : "none";
    }

    document.addEventListener("fullscreenchange", onFsChange);
    document.addEventListener("webkitfullscreenchange", onFsChange);
    document.addEventListener("MSFullscreenChange", onFsChange);

    // Optional hash navigation: #tv #link1 #split
    const hash = (location.hash || "").replace("#", "");
    if (hash === "link1") setActive("tab-link1");
    else if (hash === "split") setActive("tab-split");
    else setActive("tab-tv");

    syncOpenCurrent();
  </script>
</body>
</html>

